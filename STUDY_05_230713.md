# 이진복

# 네트워크 (OSI 7계층 모델과 TCP/IP 스위트, 그리고 보안까지)

###  네트워크란 ?

  먼저, 네트워크에 대해 알아보자. 네트워크란 "net+work" 의 합성어로서, 말 그대로 여러 컴퓨터들이 그물망처럼 연결되어 통신하는 형태를 의미한다. 보다 사전적인 의미로는 "2개 이상의 노트(컴퓨터 등)들이 그물망처럼 연결되어 서로 통신을 하는 형태" 를 의미한다.

---

### 프로토콜이란 ?

  그렇다면, 네트워크 상에서 노드(이하 컴퓨터를 예시로 들자면)간에 데이터를 주고 받으려면 어떻게 해야 할까? "줄게 받아~" 라고 던지면 알아서 받을 수 있을까? 아니다. 우리도 우체국에 가면 접수증을 작성하고 등기나 일반우편 등으로 구분해서 보내듯이, 네트워크상의 통신도 똑같다. 주고 받는 쪽이 합의가 되어 있고 그에 맞춰 통신을 진행해야 하는데, 이때의 "합의"가 바로 네트워크 프로토콜인 것이다. 

  ![postOffice](https://thumbs.dreamstime.com/b/isometric-post-office-concept-young-man-waiting-parcel-post-office-correspondence-isolated-vector-isometric-post-office-111064330.jpg)   

  자 이제 "어떻게 줄지" 와 "받은 것을 어떻게 해석할지" 를 서로 합의하여 데이터를 주고 받는데 성공했다. 그런데 점차 기술이 발전하면서 데이터의 타입의 다양화나 데이터를 주고 받는 방식, 데이터의 신뢰도 검증 등 다양한 목적에 맞는 프로토콜들이 개발 되었고 네트워크 시스템은 점차 복잡해지기 시작했다.

---

### **OSI 7계층이란 ?**
  
  한편, 다양한 기업들과 조직들에서 그들만의 고유한 네트워크 시스템을 구축하였고, 가뜩이나 복잡해진 네트워크 시스템이 또 다른 시스템과 통신하려고 하니 호환도 안되고 유지보수도 어려운 문제점이 생기게 되었다.

  이러한 배경 속에서, ISO(국제표준화기구)에서 "우리 서로 너무 힘드니, 이제는 국제적으로 통일합시다!" 라는 의견을 내며 네트워크 통신을 위한 "표준 모델"을 제시하게 되는데, 이것이 바로 그 유명한 "OSI 7계층 모델" 인 것이다.

  OSI 7계층 모델이란, 요약하자면 복잡한 네트워크 설계를 계층별로 나누고, 각각의 역할을 명확하게 분리하여 관리하는 모델이다.


  <p align="center">
    <img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExeXFyMGZ4ZHR3bG40aWIwdHdsczA2eDk5NDBlNGQ5M3l1YTdlMHZ5NiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/CTsfs42yWYFSnA1HG9/giphy.gif"/>
  </p>

  <p align="center"><b>" 각자 맡은 임무만 똑바로 수행하도록 "</b></p>

  이를 통해 네트워크 설계와 개발이 용이해지고 유지보수가 수월해지고, 표준화된 인터페이스를 통해 서로 다른 기업이나 조직에서 개발한 네트워크 시스템이 상호 호환이 되어 작동할 수 있게 되는 등 여러 이점들이 생기게 되었다.

  ---

### **OSI 7계층 모델은 어떻게 생겼나?**

  ![OSI7Layer and TCP/IP](https://github.com/jinbokk/portfolio-v1/assets/101123079/35be92b4-e961-464d-af46-b58800dabd61)


  - **물리 계층 (Physical Layer)**
    
     전기 신호를 이용하여 데이터를 전송하는 계층.

     (케이블, 허브, 리피터 등 사용)

  - **데이터 링크 계층 (Data Link Layer)**
  
    물리 계층에서 전송된 비트들을 그룹으로 묶어 프레임을 생성하고, 오류 검출 및 수정을 수행하는 계층.

    (이더넷, MAC 주소 등 사용)

  - **네트워크 계층 (Network Layer)**
  
    경로 설정과 패킷 전달을 담당하는 계층.
    
    (IP 주소와 라우팅 프로토콜 사용)

  - **전송 계층 (Transport Layer)**
  
    데이터의 신뢰성과 흐름 제어를 담당하는 계층.
    
    (TCP, UDP 프로토콜 사용)

  - **세션 계층 (Session Layer)**
    
    통신 세션을 설정하고 유지하며, 동기화를 담당하는 계층.
    
    (세션 관리, 토큰 관리 등)

  - **표현 계층 (Presentation Layer)**
    
    데이터의 표현 방식을 정의하고, 암호화, 압축 등의 기능을 수행하는 계층.

    (데이터 형식 변환, 암호화, 압축 등)

  - **응용 계층 (Application Layer)**
  
    최종 사용자에게 서비스를 제공하는 계층으로, 사용자 애플리케이션과 네트워크 간의 상호작용을 담당하는 계층.
    
    (HTTP, FTP, SMTP 등의 프로토콜)
  

---

### 그런데.. 요즘엔 TCP/IP 프로토콜 스위트를 쓴다던데?

  그렇다. OSI 7계층 모델만을 이용하여 네트워크를 구현하는 방식은 현실적으로 그리 흔하지 않다. 그 이유는 다음과 같이 정리할 수 있다.

  - **복잡성과 비효율성**
  - **TCP/IP의 보급과 표준화**
  - **그에 따른 OSI 7계층 시스템 - TCP/IP 프로토콜 시스템 호환성 문제**
  - **지속적인 기술의 발전과 요구사항의 변화**

  즉, 세대가 변했다는 것이다.
  OSI 7계층 모델은 네트워크 설계와 표준화 개념에 있어서 중요한 개념으로, 여전히 이론적인 가치를 가진다.

  그러나 7개나 되는 계층은 오늘날에는 오히려 네트워크의 구현과 관리를 복잡하게 만들 수 있으며, 실제로 필요한 기능을 구현하고자 할때 오버헤드를 발생시킬 수 있다.

  네트워크 기술이 발전함에 따라 더 단순하고 효율적인 TCP/IP 프로토콜 스위트가 등장하며 오늘날의 인터넷 표준으로 인정받았고, 많은 기업들과 조직들이 이러한 흐름에 맞춰 변화하다보니 이전의 OSI 7계층 모델을 사용한 네트워크 시스템과 호환이 안되는 경우가 발생하곤 한다.

  실제 네트워크 구현에서는 OSI 7계층과 TCP/IP 프로토콜 스위트가 혼합해서 사용되는 경우가 많다고 한다. 예를 들어, TCP/IP 스위트에서는 IP 프로토콜이 네트워크 계층을 담당하고, TCP 및 UDP 프로토콜이 전송 계층을 담당하는 것이다.
  
  ![change](https://euromerger.com/wp-content/uploads/2017/12/generational-change.jpg)

  <p align="center"><b>" OSI-7Layer Model : 다음을 부탁한다 TCP/IP 프로토콜아 "</b></p>
  <p align="center"><b>" TCP/IP Protocol Suite: 배울것은 보고 배우겠습니다 "</b></p>

---

### 그럼 TCP/IP 프로토콜 스위트는 뭔가요?

  ![OSI7Layer and TCP/IP](https://github.com/jinbokk/portfolio-v1/assets/101123079/35be92b4-e961-464d-af46-b58800dabd61)

  (두둥, 다시 등장한 사진)

오늘날 인터넷에서 주로 사용되는 프로토콜 모음(Suite) 이다. TCP와 IP를 중심으로 구성이 된다.

- **IP (Internet Protocol)**

  IP는 인터넷 프로토콜로, 패킷 스위칭 네트워크에서 데이터를 전송하는 데 사용된다. (OSI 7계층 모델에서 네트워크 계층에 해당)
  
  IP는 데이터 그램을 전달하고, 각 데이터 그램은 출발지와 목적지의 IP 주소를 가지고 있다. IP는 최적의 경로를 선택하고, 패킷의 전달을 처리하며, 패킷의 분할 및 재조립을 수행한다.

- **TCP (Transmission Control Protocol)**

  TCP는 신뢰성 있는 연결 지향적인 프로토콜로, IP 위에서 동작한다. TCP는 데이터의 전송을 관리하고, 데이터의 손실을 감지하고 복구한다.
  
  이를 위해 TCP는 연결 설정, 데이터의 분할 및 재조립, 흐름 제어, 혼잡 제어 등의 기능을 제공하고, 신뢰성과 정확성을 보장하여 안정적인 데이터 전달을 제공합니다. (OSI 7계층 모델에서 전송 계층에 해당)

이 외에도, TCP/IP 스위트에는 다른 프로토콜들도 함께 구성이 되는데, 주요한 프로토콜들은 아래와 같다.

  - U**DP (User Datagram Protocol)**
  
    UDP는 IP 위에서 동작하는 비연결형 프로토콜로, 신뢰성보다는 속도와 간결성을 우선시한다. TCP와 달리 연결 설정 절차가 없으며, 오류 검사와 복구 기능도 제공하지 않는다. UDP는 실시간 스트리밍, DNS(Domain Name System) 등에 주로 사용된다.

    *(TCP가 등기 우편이라면, UDP는 특급 우편과 같은 느낌이랄까)*

  - **HTTP (Hypertext Transfer Protocol)**
  
    HTTP는 웹에서 클라이언트와 서버 간의 통신을 위해 사용되는 프로토콜이다. HTTP는 웹 브라우저와 웹 서버 사이의 요청과 응답을 처리하여 웹 페이지의 전송과 표시를 가능하게 한다.

  - **SMTP (Simple Mail Transfer Protocol)**
  
    SMTP는 전자 메일을 보내기 위한 프로토콜로, 메일 서버 간의 통신을 처리한다. SMTP는 이메일의 전송을 관리하고, 전자 메일 주소의 확인과 인증, 메일의 전송 및 수신을 담당한다.

이 외에도 다양한 프로토콜들로 구성이 되어 있는게 TCP/IP Suite이다. 이를 통해 다양한 서비스와 응용 프로그램들이 작동할 수 있게 하는 것이다.

---

### TCP/IP Suite에서 보안은?

![security](https://mblogthumb-phinf.pstatic.net/MjAyMDA0MzBfMTI2/MDAxNTg4MjQyNjIzNzU3.wECQSy7az7jS4mwfKQq6drqBO4woFPK3S2VChEOeNpYg.tO4deUk4-0dDazLEF_5mNxNNgFAOyc56dOCUbsIqcjQg.PNG.mk_crew/image.png?type=w800)

인터넷이 발전하며, 다양한 보안 문제도 함께 발생하게 되었다. 오늘날 주로 쓰이는 TCP/IP Suite에서도 보안을 강화하기 위한 다양한 기술과 프로토콜이 개발되었으며, 위 사진으로 정리할 수 있겠다.

  - **IPSec (Internet Protocol Security)**
  
  IPSec는 TCP/IP 프로토콜 스위트에서 네트워크 계층에 보안 기능을 제공하기 위해 사용되는 프로토콜이다. 
  
  데이터의 기밀성, 무결성, 인증을 보장하기 위해 가상 사설 네트워크(VPN)를 구축하거나, 트래픽을 암호화하고 인증하는 데 사용된다.

  - **SSL/TLS (Secure Sockets Layer/Transport Layer Security)**
  
  SSL/TLS는 TCP/IP 프로토콜 스위트에서 응용 계층에서 보안 기능을 제공하기 위해 사용되는 프로토콜이다.
  
  웹 브라우저와 웹 서버 사이의 통신을 암호화하고 인증하기 위해 사용된다.
  
  - **HTTPS (HTTP Secure)**
  
  SSL/TLS를 사용하여 암호화된 HTTP 통신을 제공한다.

  - **Firewall**
  
  Firewall은 TCP/IP 네트워크에서 보안 정책을 적용하고, 불법적인 액세스나 네트워크 공격으로부터 보호하기 위해 사용되는 장치나 소프트웨어이다.
  
  Firewall은 네트워크 트래픽을 감시하고 제어하여 안전한 통신을 유지한다.

  - **인증 및 암호화 기술**
  
  TCP/IP 네트워크에서는 인증과 암호화 기술을 사용하여 데이터의 보안성을 강화할 수 있다. 이를 통해 사용자나 장치의 신원을 확인하고, 데이터를 암호화하여 무단 접근이나 데이터 유출을 방지할 수 있다.

  (JSON Web Token과 같이 웹 애플리케이션에서 사용되는 토큰 기반 인증 방식 등)

---

  ### 마지막으로, 프론트엔드 개발자로서 사용자 인증/보안을 처리하는 바람직한 방법은 ?

  - **암호화된 프로토콜 사용 (HTTPS)**
  
     HTTPS는 데이터의 암호화를 보장하므로, 이를 통해 중간에 데이터가 노출되지 않도록 해야한다.

  - **강력한 인증 방식 사용**
  
    유저 비밀번호와 같은 인증 수단의 경우 안전한 해시 함수를 사용하여 암호화하고 저장하는 것이 좋다.

  - **토큰 기반 인증**
  
    JSON Web Tokens (JWT)를 사용하여 클라이언트에게 토큰을 발급하고, 해당 토큰을 서버에서 검증하여 사용자 인증을 처리한다.

  - **세션 관리**
  
    세션 동안만 유지 되는 세션 쿠키를 사용하여 클라이언트와 서버 간의 세션 정보를 전송하고, 서버에서 세션을 관리하며 사용자의 인증 상태를 유지 혹은 폐기해야 한다.

  - **접근 제어와 권한 관리**
  
    사용자의 권한을 확인하고, HOC패턴 등 접근 제어 메커니즘을 구현하여 인가된 사용자만이 특정 기능에 접근할 수 있도록 해야 한다.

이 외에도 주기적인 보안 업데이트, 보안 테스트 등을 진행하며 꾸준히 유지보수 하는 것이 중요하다고 할 수 있겠다.
